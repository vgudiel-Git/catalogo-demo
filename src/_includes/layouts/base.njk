<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>{{ title }}</title>
  <link rel="stylesheet" href="/assets/css/main.css">
</head>
<body>
  <header class="site-header">
      <a href="/" class="logo">Mi Catálogo</a>
      
      <!-- Desktop Navigation -->
      <nav class="desktop-nav">
          {% for product in collections.products %}
            <a href="{{ product.url }}" class="{% if page.url == product.url %}active{% endif %}">
              {{ product.data.title }}
            </a>
          {% endfor %}
      </nav>

      <!-- Hamburger Menu Button -->
      <button id="hamburger-button" class="hamburger-button">
          <div class="line line-1"></div>
          <div class="line line-2"></div>
          <div class="line line-3"></div>
      </button>
  </header>

  <!-- Mobile Navigation Menu -->
  <nav id="mobile-nav" class="mobile-nav glassmorphism">
      <ul>
          {% for product in collections.products %}
            <li>
              <a href="{{ product.url }}" class="menu-link {% if page.url == product.url %}active{% endif %}">
                {{ product.data.title }}
              </a>
            </li>
          {% endfor %}
      </ul>
  </nav>

  <main>
    {{ content | safe }}
  </main>

  <footer>
    <p>&copy; <script>document.write(new Date().getFullYear())</script> Mi Catálogo</p>
  </footer>

  <!-- Script de Netlify Identity para redirección -->
  <script src="https://identity.netlify.com/v1/netlify-identity-widget.js"></script>
  <script>
    if (window.netlifyIdentity) {
      window.netlifyIdentity.on("init", user => {
        if (!user) {
          window.netlifyIdentity.on("login", () => {
            document.location.href = "/admin/";
          });
        }
      });
    }
  </script>

  <script src="/js/menu.js"></script>
</body>
</html>